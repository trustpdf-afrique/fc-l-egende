<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FC Légende App</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:Arial,sans-serif;background:#f5f5f5;color:#0f1724;}
header{background:orange;color:white;text-align:center;padding:15px;font-size:2rem;font-family:'Verdana',sans-serif;font-weight:bold;}
main{padding:20px;padding-bottom:100px;min-height:100vh;position:relative;}
h1{text-align:center;margin-bottom:20px;font-size:2rem;font-weight:900;}
.btn-back{position:absolute;top:10px;left:10px;background:#222;color:white;font-size:12px;padding:6px 10px;border:none;border-radius:6px;opacity:0.7;cursor:pointer;z-index:200;}
.card{background:white;border-radius:12px;box-shadow:0 6px 14px rgba(0,0,0,0.15);padding:12px;margin-bottom:12px;}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;height:70px;display:flex;justify-content:space-around;align-items:center;background:#0a76db;border-top:2px solid #005bb5;}
.nav-item{flex:1;text-align:center;color:white;font-weight:700;cursor:pointer;padding:8px 4px;font-size:0.85rem;}
.nav-item.active{background:linear-gradient(180deg,#1da3ff,#0077e6);border-radius:8px;}

/* Actualités */
.news-item{background:white;border-radius:10px;padding:10px;margin-bottom:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
.news-item img{float:right;margin-left:10px;width:100px;height:auto;border-radius:5px;}
.news-item:after{content:"";display:block;clear:both;}
.news-item .source{font-size:12px;color:gray;}
.news-item .title{font-size:16px;font-weight:bold;color:#1a0dab;}
.news-item .description{font-size:14px;}
.news-item .time{font-size:12px;color:gray;}

/* Profils */
.players-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;}
.player-card{background:rgba(0,0,0,0.45);border-radius:20px;padding:15px;color:white;text-align:center;position:relative;}
.player-card img{width:70px;height:70px;border-radius:50%;}
.flag{width:28px;height:28px;border-radius:50%;margin-top:-20px;margin-left:40px;border:2px solid white;}
.player-name,.player-club,.player-country,.player-age{cursor:text;}
.add-image-btn{position:absolute;top:5px;right:5px;background:#1da3ff;color:white;border:none;padding:2px 6px;border-radius:6px;font-size:10px;cursor:pointer;display:none;}

/* Buteurs */
table{width:100%;border-collapse:collapse;background:white;border-radius:12px;}
th,td{border:1px solid #ccc;padding:8px;text-align:center;}
th{background:#1da3ff;color:white;}
td input{width:60px;padding:4px;text-align:center;border-radius:4px;border:1px solid #ccc;}

/* Matchs récents */
.match-container{max-width:760px;margin:0 auto;display:grid;gap:18px;}
.match-card{background:white;border-radius:12px;box-shadow:0 6px 14px rgba(0,0,0,0.15);padding:12px;}
.card-header{display:flex;align-items:center;gap:10px;padding:8px 6px 12px 6px;}
.icon-soccer{width:36px;height:36px;display:inline-grid;place-items:center;background:#eef2f3;border-radius:8px;}
.header-text{font-size:14px;color:#8a8f98;}    
.match-row{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 6px;}
.team{display:flex;align-items:center;gap:10px;min-width:0}
.flag-match{width:42px;height:42px;border-radius:50%;background:#ddd;overflow:hidden;}
.team-name-match{font-weight:600;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.score-match{font-weight:700;font-size:22px;min-width:72px;text-align:center}
.meta{font-size:13px;color:#8a8f98;text-align:center;margin-bottom:6px}
#addMatchRecentBtn{padding:10px 14px;border:0;border-radius:10px;background:#0b8a7f;color:white;font-size:15px;font-weight:600;cursor:pointer;width:100%;margin-top:10px;display:none;}
#editButeursBtn{background:#1da3ff;color:white;padding:6px 10px;border:none;border-radius:8px;margin-bottom:6px;display:none;cursor:pointer;}
#adminPassword.correct{border:2px solid green;}
#adminPassword.wrong{border:2px solid red;}
</style>
</head>
<body>

<header>FC Légende</header>

<main>
<!-- ACTUALITÉS -->
<div id="panel-actu" class="panel" style="display:block; position:relative;">
<h1>ACTUALITÉS</h1>
<button id="adminBtn" style="position:absolute;top:10px;right:10px;background:#222;color:white;font-size:12px;padding:6px 10px;border:none;border-radius:6px;opacity:0.7;cursor:pointer;">Ad</button>
<div id="adminForm" style="display:none;margin-top:15px;">
<input type="password" id="adminPassword" placeholder="Code Admin" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ccc;">
<button id="checkPassword" style="background:#0a76db;color:white;border:none;padding:10px;width:100%;margin-top:6px;border-radius:8px;">Valider</button>
</div>
<div id="addNewsBtnContainer" style="display:none;text-align:center;margin-bottom:10px;">
<button id="showAddFormBtn" style="background:#1da3ff;color:white;padding:10px 14px;border:none;border-radius:8px;font-weight:bold;">Ajouter une actualité</button>
</div>
<div id="addNewsDiv" style="display:none;margin-top:12px;">
<input id="source" placeholder="Source" style="width:100%;padding:8px;margin-top:6px;">
<input id="title" placeholder="Titre" style="width:100%;padding:8px;margin-top:6px;">
<textarea id="description" placeholder="Description" style="width:100%;padding:8px;margin-top:6px;"></textarea>
<input id="imageURL" placeholder="URL Image" style="width:100%;padding:8px;margin-top:6px;">
<input id="time" placeholder="Temps (ex : il y a 2h)" style="width:100%;padding:8px;margin-top:6px;">
<button id="addNewsBtn" style="background:#0a76db;color:white;border:none;padding:10px;width:100%;margin-top:8px;border-radius:8px;">Ajouter</button>
</div>
<div id="newsList" style="margin-top:15px;"></div>
</div>

<!-- PROFILS -->
<div id="panel-profil" class="panel" style="display:none; position:relative;">
<button class="btn-back" onclick="goBack('panel-profil')">← Retour</button>
<h1>Profil Joueurs</h1>
<button id="editPlayersBtn" style="display:none;background:#1da3ff;color:white;padding:10px 14px;border:none;border-radius:10px;margin-bottom:12px;cursor:pointer;">Modifier joueurs</button>
<div class="players-grid" id="playersGrid"></div>
</div>

<!-- BUTEURS -->
<div id="panel-buteurs" class="panel" style="display:none; position:relative;">
<button class="btn-back" onclick="goBack('panel-buteurs')">← Retour</button>
<h1>Buteurs</h1>
<button id="editButeursBtn">Modifier</button>
<table>
<tr><th>Joueur</th><th>Buts</th></tr>
<tr><td>Mbappé</td><td><input type="number" min="0" disabled></td></tr>
<tr><td>Messi</td><td><input type="number" min="0" disabled></td></tr>
<tr><td>Ronaldo</td><td><input type="number" min="0" disabled></td></tr>
<tr><td>Neymar</td><td><input type="number" min="0" disabled></td></tr>
<tr><td>Modric</td><td><input type="number" min="0" disabled></td></tr>
<tr><td>Salah</td><td><input type="number" min="0" disabled></td></tr>
</table>
</div>

<!-- MATCHS RÉCENTS -->
<div id="panel-matchs" class="panel" style="display:none; position:relative;">
<button class="btn-back" onclick="goBack('panel-matchs')">← Retour</button>
<h1>Matchs récents</h1>
<div class="match-container" id="cardsContainer">
<section class="match-card model" id="matchTemplate">
<div class="card-header"><div class="icon-soccer">⚽</div><div class="header-text">Match récent</div></div>
<div class="match-row">
<div class="team"><div class="flag-match"><img src="" alt="logo-gauche" style="width:100%;height:100%;object-fit:cover"></div>
<div class="team-name-match" contenteditable="false">Équipe A</div></div>
<div class="score-match" contenteditable="false">0 : 0</div>
<div class="team" style="justify-content:flex-end;"><div class="team-name-match" contenteditable="false" style="text-align:right">Équipe B</div>
<div class="flag-match"><img src="" alt="logo-droit" style="width:100%;height:100%;object-fit:cover"></div></div>
</div>
<div class="meta" contenteditable="false">Infos du match…</div>
</section>
</div>
<button id="addMatchRecentBtn">Ajouter</button>
</div>

</main>

<nav class="bottom-nav">
<div class="nav-item active" data-target="panel-actu">Actu</div>
<div class="nav-item" data-target="panel-profil">Profil</div>
<div class="nav-item" data-target="panel-buteurs">Buteurs</div>
<div class="nav-item" data-target="panel-matchs">Matchs</div>
</nav>

<script>
// Navigation
const navItems=document.querySelectorAll('.nav-item');
const panels=document.querySelectorAll('.panel');
navItems.forEach(btn=>{btn.addEventListener('click',()=>{panels.forEach(p=>p.style.display=(p.id===btn.dataset.target?'block':'none'));navItems.forEach(n=>n.classList.toggle('active',n===btn));});});
function goBack(){panels.forEach(p=>p.style.display="none");document.getElementById("panel-actu").style.display="block";navItems.forEach(n=>n.classList.toggle('active', n.dataset.target==="panel-actu"));}

// Admin
let adminActive=false;
const addNewsBtnContainer=document.getElementById("addNewsBtnContainer");
const editPlayersBtn=document.getElementById("editPlayersBtn");
const addMatchRecentBtn=document.getElementById("addMatchRecentBtn");
const editButeursBtn=document.getElementById("editButeursBtn");
const buteursInputs=document.querySelectorAll("#panel-buteurs input");
const playersGrid=document.getElementById("playersGrid");

// Générer 6 joueurs par défaut
let defaultPlayers=[
{name:"Unai Simon",club:"Athletic Bilbao · GK",country:"Espagne",age:28,img:"https://upload.wikimedia.org/wikipedia/commons/7/7b/Unai_Sim%C3%B3n_%28cropped%29.jpg"},
{name:"Kylian Mbappé",club:"Paris SG · Attaquant",country:"France",age:26,img:"https://upload.wikimedia.org/wikipedia/commons/c/c3/Kylian_Mbapp%C3%A9_2022.jpg"},
{name:"Lionel Messi",club:"Inter Miami · Attaquant",country:"Argentine",age:36,img:"https://upload.wikimedia.org/wikipedia/commons/8/8c/Lionel_Messi_20180626.jpg"},
{name:"Neymar",club:"Al-Hilal · Attaquant",country:"Brésil",age:31,img:"https://upload.wikimedia.org/wikipedia/commons/2/2e/Neymar_2018.jpg"},
{name:"Luka Modric",club:"Real Madrid · Milieu",country:"Croatie",age:38,img:"https://upload.wikimedia.org/wikipedia/commons/0/03/Luka_Modric_2018.jpg"},
{name:"Mohamed Salah",club:"Liverpool · Attaquant",country:"Egypte",age:31,img:"https://upload.wikimedia.org/wikipedia/commons/0/09/Mohamed_Salah_2018.jpg"}
];

function loadPlayers(){
  playersGrid.innerHTML="";
  defaultPlayers.forEach((p,i)=>{
    let card=document.createElement("div");
    card.className="player-card";
    card.innerHTML=`<img src="${p.img}">
    <button class="add-image-btn">Image</button>
    <div class="player-name" contenteditable="false">${p.name}</div>
    <div class="player-club" contenteditable="false">${p.club}</div>
    <div class="player-country" contenteditable="false">${p.country}</div>
    <div class="player-age" contenteditable="false">Âge : ${p.age}</div>`;
    playersGrid.appendChild(card);
  });
}
loadPlayers();

function activateAdmin(){
  adminActive=true;
  localStorage.setItem("admin","on");
  addNewsBtnContainer.style.display="block";
  editPlayersBtn.style.display="block";
  addMatchRecentBtn.style.display="block";
  editButeursBtn.style.display="block";
  buteursInputs.forEach(i=>i.disabled=false);
  document.querySelectorAll(".team-name-match,.score-match,.meta").forEach(e=>e.contentEditable=true);
  document.querySelectorAll(".player-name,.player-club,.player-country,.player-age").forEach(e=>e.contentEditable=true);
  document.querySelectorAll(".add-image-btn").forEach(b=>{
    b.style.display="block";
    b.onclick=()=>{
      let card=b.parentElement;
      let url=prompt("Entrez le lien de l'image:");
      if(url){card.querySelector("img").src=url;}
    };
  });
}

// Admin Login
document.getElementById("adminBtn").onclick=()=>document.getElementById("adminForm").style.display="block";
document.getElementById("checkPassword").onclick=()=>{
  const input=document.getElementById("adminPassword");
  if(input.value==="5525"){input.classList.remove("wrong");input.classList.add("correct");activateAdmin();document.getElementById("adminForm").style.display="none";}
  else {input.classList.remove("correct");input.classList.add("wrong");}
};

// Actualités
let news = JSON.parse(localStorage.getItem("news")) || [];
function displayNews(){
  const list=document.getElementById("newsList"); list.innerHTML="";
  news.forEach((n,i)=>{
    let div=document.createElement("div");
    div.className="news-item";
    div.innerHTML=`${n.image?`<img src="${n.image}">`:""}<div class="source">${n.source}</div><div class="title">${n.title}</div><div class="description">${n.description}</div><div class="time">${n.time}</div>`;
    list.prepend(div);
  });
}
displayNews();
document.getElementById("showAddFormBtn").onclick=()=>{document.getElementById("addNewsDiv").style.display="block";};
document.getElementById("addNewsBtn").onclick=()=>{
  let n={source:source.value,title:title.value,description:description.value,image:imageURL.value,time:time.value};
  news.push(n); localStorage.setItem("news",JSON.stringify(news)); displayNews();
  source.value=title.value=description.value=imageURL.value=time.value="";
  document.getElementById("addNewsDiv").style.display="none";
};

// Matchs récents
const template=document.getElementById('matchTemplate');
const container=document.getElementById('cardsContainer');
const addBtn=document.getElementById('addMatchRecentBtn');
function enableLogoClick(card){const logos=card.querySelectorAll('.flag-match img');logos.forEach(img=>{img.onclick=()=>{const url=prompt("Entrez le lien de l'image:");if(url) img.src=url;};});}
enableLogoClick(template);
addBtn.onclick=()=>{
  const clone=template.cloneNode(true);
  clone.removeAttribute('id'); container.appendChild(clone); enableLogoClick(clone);
};
</script>
</body>
</html>
